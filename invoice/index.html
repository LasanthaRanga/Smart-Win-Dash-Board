<!DOCTYPE html>
<html>
<head><meta charset="utf-8">
	<title>Smart Win Receipt</title>
	<style type="text/css">body {
            font-family: Arial, sans-serif;
        }
        
        .center {
            margin-left: auto;
            margin-right: auto;
        }
        
        .left {
            text-align: left;
        }
        
        .right {
            text-align: left;
        }
        
        @media print {
            .no-print,
            .no-print * {
                display: none !important;
            }
        }
        
        @media print {
            #printPageButton {
                display: none;
            }
        }
	</style>
</head>
<body style="margin:10px;">
<div style="text-align: center;">
<div style="width: 100%;">
<table style="width: 100%;">
	<tbody>
		<tr>
			<td style="width: 45%; text-align: left;"><img src="invoice.jpg" width="200px;" /></td>
			<td style="text-align: left;"><!-- <p style="text-align: right;">Customer copy</p> -->
			<p><spand></spand><br />
			<span>SMART WIN ENTREPRENEUR (PVT) LTD.</span><br />
			No. 535, Puttlam Road, Kurunegala.<br />
			Tel : 0372234777, 0755 44 33 99<br />
			Email: info@smartwinent.com,<br />
			Web : www.smartwinent.com<br />
			Date :</p>
			</td>
		</tr>
	</tbody>
</table>
</div>

<h3 style="text-align: center;">RECEIPT</h3>

<div>
<table style="margin-left: 10px; margin-right: 10px; width: 100%;">
	<tbody>
		<tr>
			<td class="left">INVOICE NO :</td>
			<td class="right" id="id"></td>
		</tr>
		<tr>
			<td class="left">RECEIVE WITH THANKS :</td>
			<td class="right" id="name"></td>
		</tr>
		<tr>
			<td class="left">FROM :</td>
			<td class="right" id="from"></td>
		</tr>
		<tr>
			<td class="left">ITEM :</td>
			<td class="right" id="atn"></td>
		</tr>
		<tr>
			<td class="left">AMOUNT :</td>
			<td class="right" id="amount"></td>
		</tr>
		<tr>
			<td class="left">AMOUNT IN WORD:</td>
			<td class="right" id="num" style="text-transform: uppercase;"></td>
		</tr>
	</tbody>
</table>
</div>
<br>
<br>
<div style="text-align: center;">
<table style="text-align: center; width: 100%;">
	<tbody>
		<tr>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			<td>.................................</td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td>CASHIER</td>
		</tr>
	</tbody>
</table>
	<h4>ONCE PAID NO CASH IS REFUNDED</h4>
</div>

<hr class="no-print" /><button class="no-print" id="printPageButton" onclick="window.print()">PRINT</button><a class="no-print" href="https://sw.smartwin.lk/#/invoice">Back </a></div>
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script><script type="text/javascript">
        let num;

        function numberToWords(number) {
            var digit = ['zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];
            var elevenSeries = ['ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];
            var countingByTens = ['twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];
            var shortScale = ['', 'thousand', 'million', 'billion', 'trillion'];

            number = number.toString();
            number = number.replace(/[\, ]/g, '');
            if (number != parseFloat(number)) return 'not a number';
            var x = number.indexOf('.');
            if (x == -1) x = number.length;
            if (x > 15) return 'too big';
            var n = number.split('');
            var str = '';
            var sk = 0;
            for (var i = 0; i < x; i++) {
                if ((x - i) % 3 == 2) {
                    if (n[i] == '1') {
                        str += elevenSeries[Number(n[i + 1])] + ' ';
                        i++;
                        sk = 1;
                    } else if (n[i] != 0) {
                        str += countingByTens[n[i] - 2] + ' ';
                        sk = 1;
                    }
                } else if (n[i] != 0) {
                    str += digit[n[i]] + ' ';
                    if ((x - i) % 3 == 0) str += 'hundred ';
                    sk = 1;
                }
                if ((x - i) % 3 == 1) {
                    if (sk) str += shortScale[(x - i - 1) / 3] + ' ';
                    sk = 0;
                }
            }
            if (x != number.length) {
                var y = number.length;
                str += 'cents ';
                for (var i = x + 1; i < y; i++) str += digit[n[i]] + ' ';
            }
            str = str.replace(/\number+/g, ' ');
            return str.trim() + "";
        }


        let searchParams = new URLSearchParams(window.location.search);
        // console.log(searchParams);
        searchParams.has('data') // true
        if (searchParams.has('data')) {
            let param = JSON.parse(searchParams.get('data'));
            console.log(param.id);
            num = this.numberToWords(param.amount);
            console.log(num);
            $("#num").html(num + " only");
            $("#id").html(param.id);
            $("#name").html(param.name);
            $("#from").html(param.from);
            $("#atn").html(param.item);
            let d = new Date(param.date);
            let day = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate();
            $("#day").html(day);
            $("#amount").html("Rs." + (param.amount.toFixed(2)));
        }
    </script></body>
</html>